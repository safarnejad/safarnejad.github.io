<!DOCTYPE html>
<html dir="rtl" lang="fa">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>جلسۀ هشتم</title>
  	
  	<link rel="stylesheet" href="css/bootstrap.css" type="text/css" />
  	<link rel="stylesheet" href="css/bootstrap-responsive.css" type="text/css" />
	<link rel="stylesheet" href="css/syntax.css" type="text/css" />
  	<link rel="stylesheet" href="css/main.css" type="text/css" />
  
  	<script src="js/jquery-1.11.0.min.js"></script>
  	<script src="js/bootstrap.min.js"></script>
</head>

<body>
  <div id="page" class="container mynarrow">
      <h3 class="nomargintop">جلسۀ هشتم (شنبه ۱۷ اسفند ۹۸)</h3><br/>
<p class="myjustify">
<ul>
<li>
مرور درخت دودویی جست‌وجو، خاصیت، اعمال و زمان آن‌ها
</li>
<li>
اهمیت متوازن بودن درخت دودویی جست‌وجو
</li>
<li>
 تعریف متوازن بودن: ارتفاع لگاریتمی
</li>
<li>
اولین و ساده‌ترین درخت دودویی جست‌وجوی متوازن: درخت ای‌وی‌ال
</li>
<ul>
<li>
توسط اَدِلسون-وِلسکی و لَندیس در سال ۱۹۶۲
</li>
<li>
خاصیت ای‌وی‌ال: برای هر رأس ارتفاع فرزند و چپ و راست حداکثر یک واحد اختلاف داشته باشد.
</li>
<li>
نگه‌داری ارتفاع در هر رأس: مثالی از داده‌ساختار افزوده
</li>
<li>
رأس none را رأسی با ارتفاع ۱- درنظر می‌گیریم.
</li>
<li>
اثبات متوازن بودن درخت ای‌وی‌ال
</li>
<ul>
<li>
محاسبۀ کمترین تعداد رأس با ارتفاع h (به جای کمترین ارتفاع درخت n رأسی)
</li>
<li>
<div dir="ltr">N<sub>h</sub>=N<sub>h-1</sub>+N<sub>h-2</sub>+1</div>
</li>
<li>
راه سخت ولی دقیق: استفاده از اعداد فیبوناچی و  
<span dir="ltr">N<sub>h</sub>=F<sub>h+2</sub></span>
</li>
<ul>
<li>
<span dir="ltr">h≤1.440 log<sub>2</sub>(n+1)</span>
</li>
</ul>
<li>
راه ساده: <span dir="ltr">N<sub>h</sub>=N<sub>h-1</sub>+N<sub>h-2</sub>+1≥2 N<sub>h-2</sub></span>
</li>
<ul>
<li>
<span dir="ltr">h≤2 log<sub>2</sub>(n+1)</span>
</li>
</ul>
</ul>
<li>
دوران راست‌گرد و چپ‌گرد و حالات آن
</li>
<li>
استراتژی درج:
</li>
<ul>
<li>
درج مثل درخت دودویی جست‌وجوی ساده
</li>
<li>
تصحیح از پایین به بالا
</li>
<ul>
<li>
دو حالت به وجود می‌آید که یکی به یک چرخش و دیگری به دو چرخش نیاز دارد.
</li>
</ul>
</ul>
<li>
مثالی از درج در درخت ای‌وی‌ال
</li>

<li>
درج در درخت ای‌وی‌ال به حداکثر دو دوران نیاز دارد (یا یک دوران و یا یک دوران ترکیبی)
</li>
<ul>
<li>
سه حالت وجود دارد که نیاز به دوران داریم. در دو حالت آن پس از دوران دیگر مشکلی در رئوس بالاتر درخت وجود ندارد. حالت سوم نمی‌تواند پس از درج ایجاد شده باشد.
</li>
<li>
شبه کد درج در درخت ای‌وی‌ال
کد روی راس درج یا حذف شده در AVL
<span class="mycode" dir="ltr">maintain(node)</span> 
<pre dir="ltr" align="left">
def maintain(node):
  update(node)
  balance(node)
  if node.parent:
    maintain(node.parent)
</pre>
<pre dir="ltr" align="left">
def update(node):
  left_height = node.left.height if node.left else -1
  right_height = node.right.height if node.right else -1
  node.height = 1 + max(left_height, right_height)
  node.skew = right_height - left_height
</pre>
<pre dir="ltr" align="left">
def balance(node):
  if node.skew == 2:
    if node.right.skew = -1:
      right_rotate(node.right)
    left_rotate(node)
  if node.skew == -2:
    if node.left.skew == 1:
      left_rotate(node.left)
    right_rotate(node)
</pre>
</li>
<li>
مرتب‌سازی ای‌وی‌ال در O(n log(n))
</li>
<pre dir="ltr" align="left">
def AVL_sort(A):
  T = AVL()
  for i in A:
    T.insert(a)
  return in_order_traversed(T)
</pre>
</ul>
<li>
حذف در درخت ای‌وی‌ال مشابه درج است با این تفاوت که ممکن است به (Θ(log n دوران نیاز باشد.
</li>
</ul>
</p>
</div>
</body>
</html>
